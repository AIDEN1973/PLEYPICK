name: 이모지 사용 검사

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  emoji-check:
    runs-on: ubuntu-latest
    
    steps:
    - name: 코드 체크아웃
      uses: actions/checkout@v3
      
    - name: Python 설정
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'
        
    - name: 이모지 사용 검사
      run: |
        echo "=== 이모지 사용 검사 시작 ==="
        python scripts/check_emojis_simple.py
        
    - name: 검사 결과 리포트
      if: failure()
      run: |
        echo "❌ 이모지 사용 위반 발견!"
        echo "NO_EMOJI_POLICY.md를 참조하여 ASCII 태그로 교체하세요."
        echo ""
        echo "허용된 ASCII 태그:"
        echo "  - [OK] (성공)"
        echo "  - [ERROR] (실패)"
        echo "  - [WARNING] (경고)"
        echo "  - [INFO] (정보)"
        echo "  - [CHECK] (검색)"
        echo "  - [UPLOAD] (업로드)"
        echo "  - [FIX] (수정)"
        echo "  - [BUCKET] (패키지)"
        echo "  - [CONNECT] (연결)"
        echo "  - [WAIT] (대기)"
        echo "  - [START] (시작)"
