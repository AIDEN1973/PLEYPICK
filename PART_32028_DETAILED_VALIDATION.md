# part_id 32028 상세 검증 결과

## 검증 일시
2025-01-XX (SQL 조회 결과 기준)

---

## 1. 기본 필드 검증

| 필드 | 값 | 상태 | 비고 |
|------|-----|------|------|
| id | 3388 | 정상 | - |
| part_id | 32028 | 정상 | - |
| part_name | 32028 | 정상 | part_id와 동일 (정상) |
| part_category | 1 | 정상 | - |
| color_id | 1 | 정상 | - |
| confidence | 0.95 | 정상 | 높은 신뢰도 |
| usage_frequency | 0 | 정상 | 초기값 (미사용) |
| detection_accuracy | 0 | 정상 | 초기값 (미측정) |
| version | 13 | 정상 | 버전 정보 존재 |
| tier | GEOMETRY | 정상 | - |
| created_at | 2025-10-26 11:58:52.823 | 정상 | - |
| updated_at | 2025-11-02 04:40:50.637299 | 정상 | - |

---

## 2. feature_json 검증

### 기본 구조
- **타입**: JSONB (정상)
- **구조**: 객체 (정상)

### 필수 필드 확인

| 필드 | 값 | 상태 | 비고 |
|------|-----|------|------|
| shape_tag | "plate" | 정상 | 평판 형태 |
| stud_count_top | 2 | 정상 | 상단 스터드 2개 |
| tube_count_bottom | 0 | 정상 | 하단 튜브 없음 |
| groove | true | 정상 | 그루브 있음 |
| confusions | ["3001", "3004"] | 정상 | 혼동 부품 목록 존재 |
| recognition_hints | 존재 | 정상 | 인식 힌트 있음 |

### recognition_hints 상세

```json
{
  "ko": "이 부품은 문 레일이 있는 1x2 플레이트로, 다양한 모델에 사용됩니다.",
  "top_view": "상단에서 보면 두 개의 스터드가 나열되어 있으며, 한쪽에 레일이 있습니다.",
  "side_view": "옆에서 보면 비교적 얇은 두께를 가지며, 레일 부분이 드러납니다.",
  "unique_features": ["문 레일 기능", "특별한 블루 컬러", "다양한 조립 부품과 호환"]
}
```

**검증 결과**: 정상
- 한국어 설명 존재
- top_view, side_view 설명 존재
- unique_features 배열 존재

### feature_json 추가 필드

- `feature_text`: "이 부품은 문 레일이 있는 1x2 플레이트로, 다양한 모델에 사용됩니다." (정상)
- `distinguishing_features`: ["도어 레일이 있는 디자인", "특별한 평면 형태"] (정상)
- `clip_distinguishing`: ["도어 레일이 있는 디자인", "특별한 평면 형태"] (정상)
- `clip_unique_features`: ["문 레일 기능", "특별한 블루 컬러", "다양한 조립 부품과 호환"] (정상)
- `image_quality`: q=0.94, snr=40, ssim=0.98, resolution=768 (정상, 높은 품질)

---

## 3. recognition_hints 검증

**검증 결과**: 정상

- `ko`: 한국어 설명 존재
- `top_view`: 상단 뷰 설명 존재
- `side_view`: 측면 뷰 설명 존재
- `unique_features`: 고유 특징 배열 존재 (3개 항목)

---

## 4. similar_parts 검증

- **값**: `[]` (빈 배열)
- **상태**: 정상 (빈 배열 가능)

**참고**: `feature_json.confusions`에 `["3001", "3004"]`가 있어 혼동 부품 정보는 존재함.

---

## 5. distinguishing_features 검증

- **값**: `["도어 레일이 있는 디자인", "특별한 평면 형태"]`
- **상태**: 정상
- **타입**: 배열 (정상)
- **항목 수**: 2개 (정상)

---

## 6. semantic_vector 검증

### 기본 정보
- **타입**: ARRAY (정상)
- **차원**: 768 (예상, 테이블에서 전체 값 확인 필요)
- **값 범위**: 추정 -1 ~ 1 (정상)

### 데이터 샘플 분석

테이블 데이터에서 확인된 값:
- `[0.032047138, -0.091399886, 0.0014704738, ...]`
- 값 범위: 약 -0.1 ~ 0.1 수준 (정상)

### 후반부 제로 패딩 의심

테이블 데이터에서 후반부 값들을 보면:
- `... -0.00023146534, -0.0034383864, 0.0015006918, -0.0019232443, -0.00082542334, ...`
- 값들이 매우 작아짐 (0.001 수준 이하)

**가능한 원인**:
1. FGC 벡터 512D를 768D로 확장할 때 제로 패딩 또는 스케일링 적용
2. L2 정규화로 인한 값 축소

**검증 필요 사항**:
- 전체 768차원 norm 계산 필요
- 앞 512차원 vs 뒤 256차원 norm 비율 확인 필요
- 제로 벡터 여부 확인 필요 (norm >= 0.01)

---

## 7. clip_text_emb 검증

### 기본 정보
- **타입**: ARRAY (정상)
- **차원**: 768 (예상, 테이블에서 전체 값 확인 필요)
- **값 범위**: 추정 -1 ~ 1 (정상)

### 데이터 샘플 분석

테이블 데이터에서 확인된 값:
- `[-0.03648197, 0.013121663, 0.03776209, ...]`
- 값 범위: 약 -0.5 ~ 0.5 수준 (정상)
- 일부 값이 -0.4987645 (큰 음수값) 발견됨

**검증 필요 사항**:
- 전체 768차원 norm 계산 필요
- 제로 벡터 여부 확인 필요 (norm >= 0.01)
- 값 범위 이상치 확인 필요

---

## 8. 기하학적 특성 검증

| 필드 | 값 | 상태 | 비고 |
|------|-----|------|------|
| orientation_sensitive | true | 정상 | 방향 민감 |
| flip_tolerance | 0.10 | 정상 | 낮은 플립 허용도 |
| semantic_complexity | 0.50 | 정상 | 중간 복잡도 |
| complexity_level | medium | 정상 | - |
| has_stud | true | 정상 | 스터드 있음 |
| groove | true | 정상 | 그루브 있음 |
| center_stud | false | 정상 | 중앙 스터드 없음 |
| is_flipped | false | 정상 | 플립 안 됨 |
| orientation_locked | false | 정상 | 방향 고정 안 됨 |

---

## 9. 점수 필드 검증

| 필드 | 값 | 상태 | 비고 |
|------|-----|------|------|
| flip_score | 0.50 | 정상 | 중간값 |
| normal_similarity | 0.50 | 정상 | 중간값 |
| flipped_similarity | 0.50 | 정상 | 중간값 |
| semantic_score | 0.44 | 정상 | - |
| round_shape_score | 0.50 | 정상 | 중간값 |
| center_stud_score | 0.50 | 정상 | 중간값 |
| groove_score | 0.50 | 정상 | 중간값 |
| stud_count_score | 0.50 | 정상 | 중간값 |
| tube_pattern_score | 0.50 | 정상 | 중간값 |
| hole_count_score | 0.50 | 정상 | 중간값 |
| symmetry_score | 0.50 | 정상 | 중간값 |
| edge_quality_score | 0.50 | 정상 | 중간값 |
| texture_score | 0.50 | 정상 | 중간값 |
| color_score | 0.50 | 정상 | 중간값 |
| pattern_score | 0.50 | 정상 | 중간값 |
| voting_total_score | 0.50 | 정상 | 중간값 |

**분석**: 대부분의 점수가 0.50으로 설정되어 있음. 이는 초기값일 가능성이 높음.

---

## 10. 메서드 및 설정 검증

| 필드 | 값 | 상태 | 비고 |
|------|-----|------|------|
| method | hybrid | 정상 | 하이브리드 방법 사용 |
| rotation_invariance | false | 정상 | 회전 불변성 없음 |
| angle_step | 15 | 정상 | 각도 단계 |
| polar_transform | false | 정상 | 극좌표 변환 안 함 |
| radial_profile | false | 정상 | 방사형 프로파일 안 함 |
| teeth_count | 0 | 정상 | 톱니 없음 |
| pitch_periodicity | false | 정상 | 피치 주기성 없음 |
| circular_array | false | 정상 | 원형 배열 없음 |

---

## 최종 검증 결과 요약

### 정상 항목
1. 기본 필드: 모든 필수 필드 존재하고 유효
2. feature_json: 구조 정상, 필수 필드 모두 존재
3. recognition_hints: 구조 정상, 한국어 설명 및 뷰 설명 존재
4. distinguishing_features: 배열 형태 정상, 값 존재
5. 기하학적 특성: 모든 필드 값이 논리적으로 일치
6. 메서드 및 설정: 하이브리드 방법 사용, 설정 정상

### 검증 필요 항목
1. **semantic_vector**: 
   - 전체 768차원 확인 필요
   - norm 계산 필요 (norm >= 0.01)
   - 후반부 제로 패딩 여부 확인 필요
   
2. **clip_text_emb**: 
   - 전체 768차원 확인 필요
   - norm 계산 필요 (norm >= 0.01)
   - 값 범위 이상치 확인 필요 (-0.4987645 등)

### 잠재적 이슈
1. **semantic_vector 후반부 제로 패딩 의심**:
   - 후반부 값들이 매우 작음 (0.001 수준)
   - FGC 벡터 확장 로직 확인 필요
   
2. **점수 필드 초기값 의심**:
   - 대부분의 점수가 0.50으로 동일
   - 실제 계산값인지 초기값인지 확인 필요

---

## 권장 사항

1. **벡터 데이터 정밀 검증**:
   - `semantic_vector`와 `clip_text_emb`의 전체 768차원 norm 계산
   - 제로 벡터 여부 확인 (norm >= 0.01)
   - 앞 512차원 vs 뒤 256차원 norm 비율 확인

2. **점수 필드 업데이트**:
   - 점수 필드들이 초기값(0.50)인지 실제 계산값인지 확인
   - 필요시 재계산 또는 업데이트 고려

3. **데이터 일관성 확인**:
   - `similar_parts`가 빈 배열인데 `feature_json.confusions`에 값이 있는 경우 일관성 확인
   - 두 필드 중 하나로 통일 고려

---

## 결론

**전체 평가: 정상 (일부 검증 필요)**

- 기본 필드 및 구조는 모두 정상
- feature_json, recognition_hints 등 메타데이터 정상
- 벡터 데이터는 테이블에서 전체 값 확인이 어려워 추가 검증 필요
- 일부 점수 필드가 초기값일 가능성 있음

